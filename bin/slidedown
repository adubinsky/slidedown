#!/usr/bin/env bash

# Slidedown CLI wrapper
# This script can be symlinked to your PATH to run slidedown from anywhere

# Resolve symlinks to find the actual script location
SOURCE="${BASH_SOURCE[0]}"
while [ -h "$SOURCE" ]; do
  DIR="$(cd -P "$(dirname "$SOURCE")" && pwd)"
  SOURCE="$(readlink "$SOURCE")"
  [[ $SOURCE != /* ]] && SOURCE="$DIR/$SOURCE"
done
SCRIPT_DIR="$(cd -P "$(dirname "$SOURCE")" && pwd)"
SLIDEDOWN_ROOT="$(dirname "$SCRIPT_DIR")"

# Check if Node.js is available
if ! command -v node &> /dev/null; then
    echo "Error: Node.js is required but not installed."
    echo "Install Node.js from: https://nodejs.org"
    exit 1
fi

# Run the CLI with all arguments
exec node "$SLIDEDOWN_ROOT/cli.js" "$@"
